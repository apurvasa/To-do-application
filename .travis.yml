language: java
jdk:
  - oraclejdk8

sudo: false
install: true

script:
  - ./gradlew build

after_success:
 - mkdir codedeploy
 - zip -r TestJavaProject-${TRAVIS_JOB_NUMBER}.zip build/lib/ROOT.war appspec.yml
 - ls -al
 - mv TestJavaProject-${TRAVIS_JOB_NUMBER}.zip codedeploy/
 - ls -al
 - pwd
 - cd codedeploy
 - ls -al
 - pwd


before_deploy:
 - cd ..


deploy:
 - provider: s3
   access_key_id: AKIAJHVBBILTLANLCNVQ
   secret_access_key:
    secure: HuMysfdE27FNqcnhziDdwEfLFQZv3SgiXrxRxUOoE9dhKSNpLXTZuWxFWSQKfV3pt/fwllbMc61H3Z2rAWdVCFnexpTMQJNRI/tcWYlABJfUqir2Aoi8Ip3cScC/5CNGo+M0+zFW87oRwKEj2I9gdBdBbGseX8Iyeq8iaQQKanC3f/wQPL/3WrWbVsJ+eQ5JYvh0XBbR3c6PeeLOncNxL4/xfPmR00My9iMUhfdpoenffJdFkNFYJ7zoNCsWB7dwsa0mQ1WPPLRqOqTBSCQrb7kYXckhoXnRS4KfhN6lEOXD9JiLA3LGxndBAYfKKFrTNZ0G5RH8/sxhXX8Cdmj2Xx3g9ggOSPxZmrwuTp2PB385jRi+zsC+g5YSeE0J04njuzByTSG7nWrNYdWIdVXRq248E9XGBs3Q6Eyp8KxIvGbbBcHMK/h3wUaefwyPVvhGibK1EASBdFr1Jz8iQbaD2Ll76YPaJnhw+eBTFbwsAxjAazf3E5BGbvZuUPC3De9mESLZ/Cm4uEkIh+eBNxYSbOMFWJFGroRf9DcPj0JPggzweVkZXXrxGLdUVyYyjkfYgrDoviPo02iVvTNk6AwVi8fMbRPzSiZEkBkmqNl+JxIyR1WpSbn5dNUQaLYZuT2NOGASVOwXyklyfSwPXufnAM9BtKVGr2GZpeBt+z+IlhI=
   loacl_dir: codedeploy
   bucket: code-deploy.csye6225-fall2017-patelshu.me
   region: us-east-1
   skip_cleanup: true
   all_branches: true

notifications:
  email:
    recipients:

    - patel.shu@husky.neu.edu
    - sawant.ap@husky.neu.edu
    - chabhadia.r@husky.neu.edu


